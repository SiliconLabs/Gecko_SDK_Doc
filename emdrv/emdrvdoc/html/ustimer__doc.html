<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Silicon Labs Energy Aware Drivers: USTIMER Microsecond delay timer module</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="ustimer_doc">USTIMER Microsecond delay timer module </a></h1><p>Implements microsecond delays.</p>
<p>The delay is implemented using a hardware timer. <a class="el" href="group__USTIMER.html#ga5c7fa9c799b61638907d4f832a45e58b">USTIMER_Init()</a> must be called prior to using the delay functions. <a class="el" href="group__USTIMER.html#ga5c7fa9c799b61638907d4f832a45e58b">USTIMER_Init()</a> must also be called if HFCORECLK and/or HFPERCLK is changed.</p>
<p>The source files for the USTIMER driver library resides in the emdrv/ustimer folder, and are named <a class="el" href="ustimer_8c.html" title="Microsecond delay functions.">ustimer.c</a> and <a class="el" href="ustimer_8h.html" title="Microsecond delay function API definition.">ustimer.h</a>.</p>
<ul>
<li><a class="el" href="ustimer__doc.html#ustimer_intro">Introduction</a> </li>
<li><a class="el" href="ustimer__doc.html#ustimer_conf">Configuration Options</a> </li>
<li><a class="el" href="ustimer__doc.html#ustimer_api">The API</a> </li>
<li><a class="el" href="ustimer__doc.html#ustimer_example">Example</a></li>
</ul>
<p><br/>
 </p>
<h2><a class="anchor" id="ustimer_intro">
Introduction</a></h2>
<p>The USTIMER driver implements microsecond delay functions. The delay is timed using a hardware TIMER resource. Two delay functions are available, one which use energy mode EM1 to preserve energy while waiting, and one which performs busy wait.</p>
<p><br/>
 </p>
<h2><a class="anchor" id="ustimer_conf">
Configuration Options</a></h2>
<p>By default the module use TIMER0. Timer resource selection is stored in a file named <a class="el" href="ustimer__config_8h.html">ustimer_config.h</a>. A template for this file, containing default value, resides in the emdrv/config folder.</p>
<p>To configure USTIMER, provide your own configuration file. Here is a sample <a class="el" href="ustimer__config_8h.html">ustimer_config.h</a> file: </p>
<div class="fragment"><pre class="fragment">
#ifndef __SILICON_LABS_USTIMER_CONFIG_H__
#define __SILICON_LABS_USTIMER_CONFIG_H__

/// USTIMER configuration option. Use this define to select a TIMER resource.
#define USTIMER_TIMER USTIMER_TIMER3

#endif
  </pre></div><p><br/>
 </p>
<h2><a class="anchor" id="ustimer_api">
The API</a></h2>
<p>This section contain brief descriptions of the functions in the API. You will find detailed information on input and output parameters and return values by clicking on the hyperlinked function names. Most functions return an error code, <a class="el" href="group__USTIMER.html#gafa7a3cfd6fa84e52ff30b19963c550bc">ECODE_EMDRV_USTIMER_OK</a> is returned on success, see <a class="el" href="ecode_8h.html">ecode.h</a> and <a class="el" href="ustimer_8h.html">ustimer.h</a> for other error codes.</p>
<p>Your application code must include one header file: <em><a class="el" href="ustimer_8h.html" title="Microsecond delay function API definition.">ustimer.h</a></em>.</p>
<p><a class="el" href="group__USTIMER.html#ga5c7fa9c799b61638907d4f832a45e58b">USTIMER_Init()</a>, <a class="el" href="group__USTIMER.html#gae0ab9e930ee6cbd71061142c4ad4e298">USTIMER_DeInit()</a> <br/>
 These functions initializes or deinitializes the USTIMER driver. Typically  USTIMER_Init()  is called once in your startup code.</p>
<p><a class="el" href="group__USTIMER.html#ga3a844fc16a527d15450ba4692f6ce047">USTIMER_Delay()</a> Delay a given number of microseconds. The mcu is put in EM1 during the delay.</p>
<p><a class="el" href="group__USTIMER.html#ga22982b2c10f35aa2f9dacb7252dfa0af">USTIMER_DelayIntSafe()</a> Delay a given number of microseconds. The mcu is not put in EM1 during the delay. This function can be called in any context and is also thread safe.</p>
<p><br/>
 </p>
<h2><a class="anchor" id="ustimer_example">
Example</a></h2>
<div class="fragment"><pre class="fragment">
#include "ustimer.h"

int main( void )
{
  // Initialization of USTIMER driver
  USTIMER_Init();

  // Wait for 250 microseconds
  USTIMER_Delay( 250 );
}
  </pre></div> </div>
<div id="footer">
<hr size="1"><address style="text-align: right;"><small>
Generated on Mon Sep 7 08:55:22 2015</small> for Silicon Labs Energy Aware Drivers by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a><small> 1.6.3 </small></address></div>
</body>
</html>
