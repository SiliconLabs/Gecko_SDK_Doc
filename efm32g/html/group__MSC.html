<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>EFM32 Gecko Software Documentation: MSC</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">EFM32 Gecko Software Documentation
   &#160;<span id="projectnumber">efm32g-doc-4.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="../../index.html"><span>Documentation&#160;Home</span></a></li>
      <li><a href="http://www.silabs.com"><span>silabs.com</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__MSC.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">MSC<div class="ingroups"><a class="el" href="group__EM__Library.html">EM_Library</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Flash controller (MSC) peripheral API </p><pre class="fragment"></pre><p>.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for MSC:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<center><table><tr><td><img src="group__MSC.png" border="0" alt="" usemap="#group____MSC"/>
<map name="group____MSC" id="group____MSC">
<area shape="rect" id="node2" href="group__EM__Library.html" title="EM_Library" alt="" coords="5,5,91,32"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMSC__ExecConfig__TypeDef.html">MSC_ExecConfig_TypeDef</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga2ccebeae7857abb74bd22341b7761583"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MSC.html#ga2ccebeae7857abb74bd22341b7761583">MSC_PROGRAM_TIMEOUT</a>&#160;&#160;&#160;10000000ul</td></tr>
<tr class="memdesc:ga2ccebeae7857abb74bd22341b7761583"><td class="mdescLeft">&#160;</td><td class="mdescRight">The timeout used while waiting for the flash to become ready after a write. This number indicates the number of iterations to perform before issuing a timeout.  <a href="#ga2ccebeae7857abb74bd22341b7761583">More...</a><br /></td></tr>
<tr class="separator:ga2ccebeae7857abb74bd22341b7761583"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1135aa8aedb12568145f653bc8abdc31"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MSC.html#ga1135aa8aedb12568145f653bc8abdc31">EM_MSC_RUN_FROM_FLASH</a></td></tr>
<tr class="memdesc:ga1135aa8aedb12568145f653bc8abdc31"><td class="mdescLeft">&#160;</td><td class="mdescRight">By compiling with the define EM_MSC_RUN_FROM_FLASH the Flash controller (MSC) peripheral will remain in and execute from flash. This is useful for targets that don't want to allocate RAM space to hold the flash functions. Without this define the MSC peripheral functions will be copied into and run out of RAM.  <a href="#ga1135aa8aedb12568145f653bc8abdc31">More...</a><br /></td></tr>
<tr class="separator:ga1135aa8aedb12568145f653bc8abdc31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae0b31656af85df71ad9ec519d7b1c923"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MSC.html#gae0b31656af85df71ad9ec519d7b1c923">MSC_EXECCONFIG_DEFAULT</a></td></tr>
<tr class="separator:gae0b31656af85df71ad9ec519d7b1c923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2dc4fc5ec22ce8e85ef6c6d92548f6cc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2dc4fc5ec22ce8e85ef6c6d92548f6cc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MSC_FUNC_PREFIX</b></td></tr>
<tr class="separator:ga2dc4fc5ec22ce8e85ef6c6d92548f6cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5074d233c67e3195daf1afc3cb360a0f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga5074d233c67e3195daf1afc3cb360a0f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MSC_FUNC_POSTFIX</b></td></tr>
<tr class="separator:ga5074d233c67e3195daf1afc3cb360a0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gaa548bd1d520a543e249b6a85338b59c0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MSC.html#gaa548bd1d520a543e249b6a85338b59c0">MSC_Status_TypeDef</a> { <br />
&#160;&#160;<a class="el" href="group__MSC.html#ggaa548bd1d520a543e249b6a85338b59c0a1194171cf80ee1904596c838b67bf8dc">mscReturnOk</a> = 0, 
<br />
&#160;&#160;<a class="el" href="group__MSC.html#ggaa548bd1d520a543e249b6a85338b59c0a9e4a7b0e66a5e0ce269c24448ad53ce9">mscReturnInvalidAddr</a> = -1, 
<br />
&#160;&#160;<a class="el" href="group__MSC.html#ggaa548bd1d520a543e249b6a85338b59c0a6665fd5d688be1ae3622da00e3c44e80">mscReturnLocked</a> = -2, 
<br />
&#160;&#160;<a class="el" href="group__MSC.html#ggaa548bd1d520a543e249b6a85338b59c0a60b2f4d7977d34fde474915d77a86e82">mscReturnTimeOut</a> = -3, 
<br />
&#160;&#160;<a class="el" href="group__MSC.html#ggaa548bd1d520a543e249b6a85338b59c0a2cd0f16db1ef497f581731cb74bc2bfc">mscReturnUnaligned</a> = -4
<br />
 }<tr class="separator:gaa548bd1d520a543e249b6a85338b59c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa02df815c14caedbc2fd0a8910d2e055"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MSC.html#gaa02df815c14caedbc2fd0a8910d2e055">MSC_Init</a> (void)</td></tr>
<tr class="memdesc:gaa02df815c14caedbc2fd0a8910d2e055"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the flash controller for writing.  <a href="#gaa02df815c14caedbc2fd0a8910d2e055">More...</a><br /></td></tr>
<tr class="separator:gaa02df815c14caedbc2fd0a8910d2e055"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadb2eab07fedfb79fba5a3abdd8b5c96a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gadb2eab07fedfb79fba5a3abdd8b5c96a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MSC.html#gadb2eab07fedfb79fba5a3abdd8b5c96a">MSC_Deinit</a> (void)</td></tr>
<tr class="memdesc:gadb2eab07fedfb79fba5a3abdd8b5c96a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables the flash controller for writing. <br /></td></tr>
<tr class="separator:gadb2eab07fedfb79fba5a3abdd8b5c96a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e99a1115d2fdec306e3ebd3a9c5e3b4"><td class="memItemLeft" align="right" valign="top">__STATIC_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MSC.html#ga3e99a1115d2fdec306e3ebd3a9c5e3b4">MSC_IntClear</a> (uint32_t flags)</td></tr>
<tr class="memdesc:ga3e99a1115d2fdec306e3ebd3a9c5e3b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear one or more pending MSC interrupts.  <a href="#ga3e99a1115d2fdec306e3ebd3a9c5e3b4">More...</a><br /></td></tr>
<tr class="separator:ga3e99a1115d2fdec306e3ebd3a9c5e3b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae93719c876be33cc035e8a4791c4c9fe"><td class="memItemLeft" align="right" valign="top">__STATIC_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MSC.html#gae93719c876be33cc035e8a4791c4c9fe">MSC_IntDisable</a> (uint32_t flags)</td></tr>
<tr class="memdesc:gae93719c876be33cc035e8a4791c4c9fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable one or more MSC interrupts.  <a href="#gae93719c876be33cc035e8a4791c4c9fe">More...</a><br /></td></tr>
<tr class="separator:gae93719c876be33cc035e8a4791c4c9fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4824f067a4895d743b9d369b2d261e1c"><td class="memItemLeft" align="right" valign="top">__STATIC_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MSC.html#ga4824f067a4895d743b9d369b2d261e1c">MSC_IntEnable</a> (uint32_t flags)</td></tr>
<tr class="memdesc:ga4824f067a4895d743b9d369b2d261e1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable one or more MSC interrupts.  <a href="#ga4824f067a4895d743b9d369b2d261e1c">More...</a><br /></td></tr>
<tr class="separator:ga4824f067a4895d743b9d369b2d261e1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae8463b277bec80606e0eb8fe71641f78"><td class="memItemLeft" align="right" valign="top">__STATIC_INLINE uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MSC.html#gae8463b277bec80606e0eb8fe71641f78">MSC_IntGet</a> (void)</td></tr>
<tr class="memdesc:gae8463b277bec80606e0eb8fe71641f78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get pending MSC interrupt flags.  <a href="#gae8463b277bec80606e0eb8fe71641f78">More...</a><br /></td></tr>
<tr class="separator:gae8463b277bec80606e0eb8fe71641f78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga30acc1e5a9cbe04debbc18e40f95ee65"><td class="memItemLeft" align="right" valign="top">__STATIC_INLINE uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MSC.html#ga30acc1e5a9cbe04debbc18e40f95ee65">MSC_IntGetEnabled</a> (void)</td></tr>
<tr class="memdesc:ga30acc1e5a9cbe04debbc18e40f95ee65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get enabled and pending MSC interrupt flags. Useful for handling more interrupt sources in the same interrupt handler.  <a href="#ga30acc1e5a9cbe04debbc18e40f95ee65">More...</a><br /></td></tr>
<tr class="separator:ga30acc1e5a9cbe04debbc18e40f95ee65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0792aa6d5cef984923e3d10d44b5723f"><td class="memItemLeft" align="right" valign="top">__STATIC_INLINE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MSC.html#ga0792aa6d5cef984923e3d10d44b5723f">MSC_IntSet</a> (uint32_t flags)</td></tr>
<tr class="memdesc:ga0792aa6d5cef984923e3d10d44b5723f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set one or more pending MSC interrupts from SW.  <a href="#ga0792aa6d5cef984923e3d10d44b5723f">More...</a><br /></td></tr>
<tr class="separator:ga0792aa6d5cef984923e3d10d44b5723f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76309e04e090815bd80e7e5da3ee6ff6"><td class="memItemLeft" align="right" valign="top">MSC_FUNC_PREFIX <a class="el" href="group__MSC.html#gaa548bd1d520a543e249b6a85338b59c0">MSC_Status_TypeDef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MSC.html#ga76309e04e090815bd80e7e5da3ee6ff6">MSC_WriteWord</a> (uint32_t *address, void const *data, uint32_t numBytes)</td></tr>
<tr class="memdesc:ga76309e04e090815bd80e7e5da3ee6ff6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes data to flash memory. This function is interrupt safe, but slower than MSC_WriteWordFast(), which writes to flash with interrupts disabled. Write data must be aligned to words and contain a number of bytes that is divisable by four.  <a href="#ga76309e04e090815bd80e7e5da3ee6ff6">More...</a><br /></td></tr>
<tr class="separator:ga76309e04e090815bd80e7e5da3ee6ff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga25bb7197232a0fa92f3fc22d3a128161"><td class="memItemLeft" align="right" valign="top">MSC_FUNC_PREFIX <a class="el" href="group__MSC.html#gaa548bd1d520a543e249b6a85338b59c0">MSC_Status_TypeDef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__MSC.html#ga25bb7197232a0fa92f3fc22d3a128161">MSC_ErasePage</a> (uint32_t *startAddress)</td></tr>
<tr class="memdesc:ga25bb7197232a0fa92f3fc22d3a128161"><td class="mdescLeft">&#160;</td><td class="mdescRight">Erases a page in flash memory.  <a href="#ga25bb7197232a0fa92f3fc22d3a128161">More...</a><br /></td></tr>
<tr class="separator:ga25bb7197232a0fa92f3fc22d3a128161"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Flash controller (MSC) Peripheral API </p><pre class="fragment"></pre><p>.</p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga2ccebeae7857abb74bd22341b7761583"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSC_PROGRAM_TIMEOUT&#160;&#160;&#160;10000000ul</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>This timeout is set very large (in the order of 100x longer than necessary). This is to avoid any corner cases. </dd></dl>

<p>Definition at line <a class="el" href="em__msc_8h_source.html#l00072">72</a> of file <a class="el" href="em__msc_8h_source.html">em_msc.h</a>.</p>

<p>Referenced by <a class="el" href="em__msc_8c_source.html#l00637">MSC_ErasePage()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1135aa8aedb12568145f653bc8abdc31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EM_MSC_RUN_FROM_FLASH</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>This define is commented out by default so the MSC controller API will run from RAM by default. </dd></dl>

<p>Definition at line <a class="el" href="em__msc_8h_source.html#l00087">87</a> of file <a class="el" href="em__msc_8h_source.html">em_msc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gae0b31656af85df71ad9ec519d7b1c923"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSC_EXECCONFIG_DEFAULT</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                               \</div>
<div class="line">  false,                        \</div>
<div class="line">  true,                         \</div>
<div class="line">  false,                        \</div>
<div class="line">  false,                        \</div>
<div class="line">  false,                        \</div>
<div class="line">  false,                        \</div>
<div class="line">}</div>
</div><!-- fragment --><p>Default MSC ExecConfig initialization </p>

<p>Definition at line <a class="el" href="em__msc_8h_source.html#l00130">130</a> of file <a class="el" href="em__msc_8h_source.html">em_msc.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gaa548bd1d520a543e249b6a85338b59c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__MSC.html#gaa548bd1d520a543e249b6a85338b59c0">MSC_Status_TypeDef</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return codes for writing/erasing the flash </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ggaa548bd1d520a543e249b6a85338b59c0a1194171cf80ee1904596c838b67bf8dc"></a>mscReturnOk&#160;</td><td class="fielddoc">
<p>Flash write/erase successful. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa548bd1d520a543e249b6a85338b59c0a9e4a7b0e66a5e0ce269c24448ad53ce9"></a>mscReturnInvalidAddr&#160;</td><td class="fielddoc">
<p>Invalid address. Write to an address that is not flash. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa548bd1d520a543e249b6a85338b59c0a6665fd5d688be1ae3622da00e3c44e80"></a>mscReturnLocked&#160;</td><td class="fielddoc">
<p>Flash address is locked. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa548bd1d520a543e249b6a85338b59c0a60b2f4d7977d34fde474915d77a86e82"></a>mscReturnTimeOut&#160;</td><td class="fielddoc">
<p>Timeout while writing to flash. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa548bd1d520a543e249b6a85338b59c0a2cd0f16db1ef497f581731cb74bc2bfc"></a>mscReturnUnaligned&#160;</td><td class="fielddoc">
<p>Unaligned access to flash. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="em__msc_8h_source.html#l00097">97</a> of file <a class="el" href="em__msc_8h_source.html">em_msc.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaa02df815c14caedbc2fd0a8910d2e055"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MSC_Init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>IMPORTANT: This function must be called before flash operations when AUXHFRCO clock has been changed from default 14MHz band. </dd>
<dd>
This function calls SystemCoreClockGet in order to set the global variable SystemCoreClock which is used in subseqent calls of MSC_WriteWord to make sure the frequency is sufficiently high for flash operations. If the clock frequency is changed then software is responsible for calling MSC_Init or SystemCoreClockGet in order to set the SystemCoreClock variable to the correct value. </dd></dl>

<p>Definition at line <a class="el" href="em__msc_8c_source.html#l00101">101</a> of file <a class="el" href="em__msc_8c_source.html">em_msc.c</a>.</p>

<p>References <a class="el" href="em__cmu_8c_source.html#l01482">CMU_ClockFreqGet()</a>, <a class="el" href="em__cmu_8h_source.html#l00286">cmuClock_AUX</a>, <a class="el" href="efm32g890f128_8h_source.html#l00330">MSC</a>, <a class="el" href="efm32g890f128_8h_source.html#l00379">MSC_UNLOCK_CODE</a>, <a class="el" href="efm32g__msc_8h_source.html#l00096">MSC_WRITECTRL_WREN</a>, and <a class="el" href="system__efm32g_8c_source.html#l00123">SystemCoreClockGet()</a>.</p>

<p>Referenced by <a class="el" href="bsp__trace_8h_source.html#l00062">BSP_TraceProfilerEnable()</a>, and <a class="el" href="nvm__hal_8c_source.html#l00111">NVMHAL_Init()</a>.</p>

<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__MSC_gaa02df815c14caedbc2fd0a8910d2e055_cgraph.png" border="0" usemap="#group__MSC_gaa02df815c14caedbc2fd0a8910d2e055_cgraph" alt=""/></div>
<map name="group__MSC_gaa02df815c14caedbc2fd0a8910d2e055_cgraph" id="group__MSC_gaa02df815c14caedbc2fd0a8910d2e055_cgraph">
<area shape="rect" id="node3" href="group__CMU.html#gac9aa0ed17f83bd48abcf7b430843374a" title="Get clock frequency for a clock point. " alt="" coords="128,107,259,133"/>
<area shape="rect" id="node9" href="system__efm32g_8c.html#af2e6aa1120f0e55e38c83d8387625d16" title="Get the current core clock frequency. " alt="" coords="307,157,447,184"/>
<area shape="rect" id="node5" href="group__CMU.html#ga3ac649cb01dd184676c6bdea7ff3d768" title="Convert dividend to logarithmic value. Only works for even numbers equal to 2^n. " alt="" coords="320,5,435,32"/>
<area shape="rect" id="node7" href="group__CMU.html#ga535e1e8fa3a9131d7151cc549bfb4f29" title="Convert logarithm of 2 prescaler to division factor. " alt="" coords="320,56,435,83"/>
<area shape="rect" id="node11" href="system__efm32g_8c.html#ab5991f4c3faeaed3b4f20d5ab515f1f2" title="Get the current HFCLK frequency. " alt="" coords="496,132,624,159"/>
<area shape="rect" id="node13" href="system__efm32g_8c.html#a442d0fcb831f601f02d643a64ab80f4c" title="GetProdRev" alt="" coords="672,132,760,159"/>
</map>
</div>
</p>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__MSC_gaa02df815c14caedbc2fd0a8910d2e055_icgraph.png" border="0" usemap="#group__MSC_gaa02df815c14caedbc2fd0a8910d2e055_icgraph" alt=""/></div>
<map name="group__MSC_gaa02df815c14caedbc2fd0a8910d2e055_icgraph" id="group__MSC_gaa02df815c14caedbc2fd0a8910d2e055_icgraph">
<area shape="rect" id="node3" href="group__BSPCOMMON.html#ga5061043f8bb64d1b0130fe4185916916" title="Set or clear word in user page which enables or disables SWO in BSP_TraceProfilerSetup. If BSP_TraceProfilerEnable(false) has been run, no example project will enable SWO trace. " alt="" coords="128,5,291,32"/>
<area shape="rect" id="node5" href="nvm__hal_8c.html#a67a31b5bf9f6a36a8e67b3d03bf59b38" title="Initialize NVM driver. " alt="" coords="162,56,257,83"/>
<area shape="rect" id="node7" href="group__NVM.html#gaf74bb05f10ed4959e65e85fa438ead67" title="Initialize the NVM manager. " alt="" coords="339,56,413,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga3e99a1115d2fdec306e3ebd3a9c5e3b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__STATIC_INLINE void MSC_IntClear </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Pending MSC intterupt source to clear. Use a bitwise logic OR combination of valid interrupt flags for the MSC module (MSC_IF_nnn). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="em__msc_8h_source.html#l00164">164</a> of file <a class="el" href="em__msc_8h_source.html">em_msc.h</a>.</p>

<p>References <a class="el" href="efm32g890f128_8h_source.html#l00330">MSC</a>.</p>

</div>
</div>
<a class="anchor" id="gae93719c876be33cc035e8a4791c4c9fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__STATIC_INLINE void MSC_IntDisable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>MSC interrupt sources to disable. Use a bitwise logic OR combination of valid interrupt flags for the MSC module (MSC_IF_nnn). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="em__msc_8h_source.html#l00177">177</a> of file <a class="el" href="em__msc_8h_source.html">em_msc.h</a>.</p>

<p>References <a class="el" href="efm32g890f128_8h_source.html#l00330">MSC</a>.</p>

</div>
</div>
<a class="anchor" id="ga4824f067a4895d743b9d369b2d261e1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__STATIC_INLINE void MSC_IntEnable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>Depending on the use, a pending interrupt may already be set prior to enabling the interrupt. Consider using <a class="el" href="group__MSC.html#ga3e99a1115d2fdec306e3ebd3a9c5e3b4" title="Clear one or more pending MSC interrupts. ">MSC_IntClear()</a> prior to enabling if such a pending interrupt should be ignored.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>MSC interrupt sources to enable. Use a bitwise logic OR combination of valid interrupt flags for the MSC module (MSC_IF_nnn). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="em__msc_8h_source.html#l00196">196</a> of file <a class="el" href="em__msc_8h_source.html">em_msc.h</a>.</p>

<p>References <a class="el" href="efm32g890f128_8h_source.html#l00330">MSC</a>.</p>

</div>
</div>
<a class="anchor" id="gae8463b277bec80606e0eb8fe71641f78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__STATIC_INLINE uint32_t MSC_IntGet </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>The event bits are not cleared by the use of this function.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>MSC interrupt sources pending. A bitwise logic OR combination of valid interrupt flags for the MSC module (MSC_IF_nnn). </dd></dl>

<p>Definition at line <a class="el" href="em__msc_8h_source.html#l00213">213</a> of file <a class="el" href="em__msc_8h_source.html">em_msc.h</a>.</p>

<p>References <a class="el" href="efm32g890f128_8h_source.html#l00330">MSC</a>.</p>

</div>
</div>
<a class="anchor" id="ga30acc1e5a9cbe04debbc18e40f95ee65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__STATIC_INLINE uint32_t MSC_IntGetEnabled </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>Interrupt flags are not cleared by the use of this function.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Pending and enabled MSC interrupt sources The return value is the bitwise AND of<ul>
<li>the enabled interrupt sources in MSC_IEN and</li>
<li>the pending interrupt flags MSC_IF </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="em__msc_8h_source.html#l00233">233</a> of file <a class="el" href="em__msc_8h_source.html">em_msc.h</a>.</p>

<p>References <a class="el" href="efm32g890f128_8h_source.html#l00330">MSC</a>.</p>

</div>
</div>
<a class="anchor" id="ga0792aa6d5cef984923e3d10d44b5723f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__STATIC_INLINE void MSC_IntSet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>MSC interrupt sources to set to pending. Use a bitwise logic OR combination of valid interrupt flags for the MSC module (MSC_IF_nnn). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="em__msc_8h_source.html#l00250">250</a> of file <a class="el" href="em__msc_8h_source.html">em_msc.h</a>.</p>

<p>References <a class="el" href="efm32g890f128_8h_source.html#l00330">MSC</a>.</p>

</div>
</div>
<a class="anchor" id="ga76309e04e090815bd80e7e5da3ee6ff6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MSC.html#gaa548bd1d520a543e249b6a85338b59c0">MSC_Status_TypeDef</a> MSC_WriteWord </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void const *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>numBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>It is recommended to erase the flash page before performing a write.</dd></dl>
<p>It is recommended to run this code from RAM. On the Gecko family, it is required to run this function from RAM.</p>
<p>For IAR, Rowley, SimplicityStudio, Atollic and armgcc this will be achieved automatically by using attributes in the function proctype. For Keil uVision you must define a section called "ram_code" and place this manually in your project's scatter file.</p>
<p>This function requires a ystem core clock at 1MHz or higher.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>Pointer to the flash word to write to. Must be aligned to words. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Data to write to flash. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numBytes</td><td>Number of bytes to write from flash. NB: Must be divisable by four. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the status of the write operation <pre class="fragment">*   flashReturnOk - Operation completed successfully.
*   flashReturnInvalidAddr - Operation tried to erase a non-flash area.
*   flashReturnLocked - Operation tried to erase a locked area of the flash.
*   flashReturnTimeOut - Operation timed out waiting for flash operation
*       to complete. Or the MSC timed out waiting for the software to write
*       the next word into the DWORD register.
* </pre> </dd></dl>

<p>Definition at line <a class="el" href="em__msc_8c_source.html#l00738">738</a> of file <a class="el" href="em__msc_8c_source.html">em_msc.c</a>.</p>

<p>Referenced by <a class="el" href="bsp__trace_8h_source.html#l00062">BSP_TraceProfilerEnable()</a>, and <a class="el" href="nvm__hal_8c_source.html#l00191">NVMHAL_Write()</a>.</p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__MSC_ga76309e04e090815bd80e7e5da3ee6ff6_icgraph.png" border="0" usemap="#group__MSC_ga76309e04e090815bd80e7e5da3ee6ff6_icgraph" alt=""/></div>
<map name="group__MSC_ga76309e04e090815bd80e7e5da3ee6ff6_icgraph" id="group__MSC_ga76309e04e090815bd80e7e5da3ee6ff6_icgraph">
<area shape="rect" id="node3" href="group__BSPCOMMON.html#ga5061043f8bb64d1b0130fe4185916916" title="Set or clear word in user page which enables or disables SWO in BSP_TraceProfilerSetup. If BSP_TraceProfilerEnable(false) has been run, no example project will enable SWO trace. " alt="" coords="171,5,333,32"/>
<area shape="rect" id="node5" href="nvm__hal_8c.html#a0800d58f7bb43d0462592d0062c5cef3" title="Write data to NVM. " alt="" coords="198,56,306,83"/>
<area shape="rect" id="node7" href="group__NVM.html#ga6cad1505838978506c7d94f9a1472595" title="Erase the entire allocated NVM area. " alt="" coords="382,31,469,57"/>
<area shape="rect" id="node9" href="group__NVM.html#gad181be9b434658d3552fb311039ff691" title="Write an object or a page. " alt="" coords="382,81,469,108"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga25bb7197232a0fa92f3fc22d3a128161"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__MSC.html#gaa548bd1d520a543e249b6a85338b59c0">MSC_Status_TypeDef</a> MSC_ErasePage </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>startAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section note"><dt>Note</dt><dd>It is recommended to run this code from RAM. On the Gecko family, it is required to run this function from RAM.</dd></dl>
<p>For IAR, Rowley, SimplicityStudio, Atollic and armgcc this will be achieved automatically by using attributes in the function proctype. For Keil uVision you must define a section called "ram_code" and place this manually in your project's scatter file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">startAddress</td><td>Pointer to the flash page to erase. Must be aligned to beginning of page boundary. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the status of erase operation, <a class="el" href="group__MSC.html#gaa548bd1d520a543e249b6a85338b59c0">MSC_Status_TypeDef</a> <pre class="fragment">*   mscReturnOk - Operation completed successfully.
*   mscReturnInvalidAddr - Operation tried to erase a non-flash area.
*   mscReturnLocked - Operation tried to erase a locked area of the flash.
*   mscReturnTimeOut - Operation timed out waiting for flash operation
*       to complete.
* </pre> </dd></dl>

<p>Definition at line <a class="el" href="em__msc_8c_source.html#l00637">637</a> of file <a class="el" href="em__msc_8c_source.html">em_msc.c</a>.</p>

<p>References <a class="el" href="efm32g890f128_8h_source.html#l00161">FLASH_PAGE_SIZE</a>, <a class="el" href="efm32g890f128_8h_source.html#l00330">MSC</a>, <a class="el" href="em__msc_8h_source.html#l00072">MSC_PROGRAM_TIMEOUT</a>, <a class="el" href="efm32g__msc_8h_source.html#l00155">MSC_STATUS_BUSY</a>, <a class="el" href="efm32g__msc_8h_source.html#l00165">MSC_STATUS_INVADDR</a>, <a class="el" href="efm32g__msc_8h_source.html#l00160">MSC_STATUS_LOCKED</a>, <a class="el" href="efm32g__msc_8h_source.html#l00115">MSC_WRITECMD_ERASEPAGE</a>, <a class="el" href="efm32g__msc_8h_source.html#l00110">MSC_WRITECMD_LADDRIM</a>, <a class="el" href="efm32g__msc_8h_source.html#l00096">MSC_WRITECTRL_WREN</a>, <a class="el" href="em__msc_8h_source.html#l00100">mscReturnInvalidAddr</a>, <a class="el" href="em__msc_8h_source.html#l00101">mscReturnLocked</a>, <a class="el" href="em__msc_8h_source.html#l00099">mscReturnOk</a>, and <a class="el" href="em__msc_8h_source.html#l00102">mscReturnTimeOut</a>.</p>

<p>Referenced by <a class="el" href="bsp__trace_8h_source.html#l00062">BSP_TraceProfilerEnable()</a>, and <a class="el" href="nvm__hal_8c_source.html#l00278">NVMHAL_PageErase()</a>.</p>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="group__MSC_ga25bb7197232a0fa92f3fc22d3a128161_icgraph.png" border="0" usemap="#group__MSC_ga25bb7197232a0fa92f3fc22d3a128161_icgraph" alt=""/></div>
<map name="group__MSC_ga25bb7197232a0fa92f3fc22d3a128161_icgraph" id="group__MSC_ga25bb7197232a0fa92f3fc22d3a128161_icgraph">
<area shape="rect" id="node3" href="group__BSPCOMMON.html#ga5061043f8bb64d1b0130fe4185916916" title="Set or clear word in user page which enables or disables SWO in BSP_TraceProfilerSetup. If BSP_TraceProfilerEnable(false) has been run, no example project will enable SWO trace. " alt="" coords="168,5,331,32"/>
<area shape="rect" id="node5" href="nvm__hal_8c.html#aaa2acd545c460f4cea576178fc185a21" title="Erase a page in the NVM. " alt="" coords="181,56,318,83"/>
<area shape="rect" id="node7" href="group__NVM.html#ga6cad1505838978506c7d94f9a1472595" title="Erase the entire allocated NVM area. " alt="" coords="379,56,466,83"/>
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Nov 10 2015 11:35:14 for EFM32 Gecko Software Documentation by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
